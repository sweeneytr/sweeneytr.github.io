---
import { Image } from "astro:assets";
import ImageCredit from "./ImageCredit.astro";
import type { ComponentProps } from "astro/types";

import Card from "@components/atoms/Card.astro";

interface Props {
  title: string;
  imgSrc: ImageMetadata;
  imgAlt: string;
  description: string;
  date: Date;
  credit?: ComponentProps<typeof ImageCredit>;
}

const { title, imgAlt, imgSrc, description, credit, date } = Astro.props;
---

<Card color="white" class="flex flex-col h-full">
  <h3 class="poppins text-lg md:text-xl">{title}</h3>
  <span class="text-gray-500">{date.toLocaleDateString()}</span>
  <div class="my-4">
    <div class="rounded-lg border-3 border-black h-56">
      <Image
        src={imgSrc}
        alt={imgAlt}
        width={800}
        height={400}
        class="rounded h-full w-full object-cover"
      />
    </div>
    {
      credit && (
        <div class="flex flex-justify-end">
          <ImageCredit {...credit} />
        </div>
      )
    }
  </div>

  <p class="poppins flex-1">{description}</p>
  <slot />
</Card>
